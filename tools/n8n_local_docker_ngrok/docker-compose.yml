version: '3.8'

services:
  n8n:
    image: n8nio/n8n
    container_name: n8n-container
    restart: always
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=*tu_correo@ejemplo.com*
      - N8N_BASIC_AUTH_PASSWORD=*tu_password*
      - N8N_LICENSE_KEY=*tu_license_key*
      - N8N_RUNNERS_ENABLED=true
      - WEBHOOK_URL=*https://tu-dominio-fijo.ngrok-free.app/*
      - N8N_PORT=5678
      - N8N_PROTOCOL=https
      - N8N_CORS_ALLOWED_ORIGINS=*https://tus.dominios.permitidos.com*, *https://otro.dominio.com*
    volumes:
      - n8n_data:/home/node/.n8n

volumes:
  n8n_data:
    external: true
    name: Volumen1